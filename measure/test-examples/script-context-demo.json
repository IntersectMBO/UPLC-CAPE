{
  "version": "1.0.0",
  "description": "Demonstrates script_context input type with various patch operations",
  "data_structures": {
    "alice_pubkey": "deadbeef1234567890abcdef1234567890abcdef1234567890abcdef12345678",
    "bob_pubkey": "cafebabe1234567890abcdef1234567890abcdef1234567890abcdef12345678",
    "escrow_txid": "fedcba0987654321fedcba0987654321fedcba0987654321fedcba0987654321"
  },
  "tests": [
    {
      "name": "simple_signature_test",
      "description": "Basic ScriptContext with a single signature",
      "input": {
        "type": "script_context",
        "script_context": {
          "baseline": "spending",
          "patches": [
            {
              "op": "add_signature",
              "pubkey_hash": "@alice_pubkey"
            }
          ]
        }
      },
      "expected": {
        "type": "value",
        "content": "(con unit ())"
      }
    },
    {
      "name": "multi_signature_test",
      "description": "ScriptContext with multiple signatures and custom redeemer",
      "input": {
        "type": "script_context",
        "script_context": {
          "baseline": "spending",
          "patches": [
            {
              "op": "add_signature",
              "pubkey_hash": "@alice_pubkey"
            },
            {
              "op": "add_signature",
              "pubkey_hash": "@bob_pubkey"
            },
            {
              "op": "set_redeemer",
              "redeemer": {
                "action": "approve",
                "amount": 1000000
              }
            }
          ]
        }
      },
      "expected": {
        "type": "value",
        "content": "(con unit ())"
      }
    },
    {
      "name": "time_bounded_test",
      "description": "ScriptContext with validity range and UTXO reference",
      "input": {
        "type": "script_context",
        "script_context": {
          "baseline": "spending",
          "patches": [
            {
              "op": "add_signature",
              "pubkey_hash": "@alice_pubkey"
            },
            {
              "op": "set_spending_utxo",
              "tx_id": "@escrow_txid",
              "tx_index": 0
            },
            {
              "op": "set_valid_range",
              "from_time": 1640995200000,
              "to_time": 1672531200000
            }
          ]
        }
      },
      "expected": {
        "type": "value",
        "content": "(con unit ())"
      }
    },
    {
      "name": "minimal_context_test",
      "description": "Minimal ScriptContext with no patches",
      "input": {
        "type": "script_context",
        "script_context": {
          "baseline": "spending",
          "patches": []
        }
      },
      "expected": {
        "type": "value",
        "content": "(con unit ())"
      }
    }
  ]
}
